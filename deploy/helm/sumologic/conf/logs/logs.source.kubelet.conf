<match host.kubelet.**>
  @type relabel
  @label @KUBELET
</match>
<label @KUBELET>
  <filter host.kubelet.**>
    @type kubernetes_sumologic
    source_category {{ .Values.fluentd.logs.kubelet.sourceCategory | quote }}
    source_name {{ .Values.fluentd.logs.kubelet.sourceName | quote }}
    source_category_prefix {{ .Values.fluentd.logs.kubelet.sourceCategoryPrefix | quote }}
    exclude_facility_regex {{ .Values.fluentd.logs.kubelet.excludeFacilityRegex | quote }}
    exclude_host_regex {{ .Values.fluentd.logs.kubelet.excludeHostRegex | quote }}
    exclude_priority_regex {{ .Values.fluentd.logs.kubelet.excludePriorityRegex | quote }}
    exclude_unit_regex {{ .Values.fluentd.logs.kubelet.excludeUnitRegex | quote }}
  </filter>
{{- .Values.fluentd.logs.kubelet.extraPluginConf | nindent 4 }}
  <match host.kubelet.**>
    @type sumologic
    @id sumologic.endpoint.logs.kubelet
{{- .Values.fluentd.logs.kubelet.outputConf | nindent 6 }}
  </match>
</label>